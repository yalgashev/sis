<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Additional Information - SIS Student</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#667eea',
                        secondary: '#764ba2',
                        sidebar: '#1f2937',
                        sidebarHover: '#374151',
                    }
                }
            }
        }
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .sidebar-item:hover { background-color: #374151; }
        .sidebar-item.active { background-color: #667eea; }
        .entry-item { transition: all 0.3s ease; }
        .entry-item:hover { background-color: #f9fafb; transform: translateX(4px); }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-sidebar text-white flex flex-col">
            <!-- Logo Section -->
            <div class="p-6 border-b border-gray-600">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-user-graduate text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">SIS Student</h1>
                        <p class="text-gray-400 text-sm">{{ student_name }}</p>
                    </div>
                </div>
            </div>

            <!-- Navigation Menu -->
            <nav class="flex-1 p-4">
                <ul class="space-y-2">
                    <li>
                        <a href="{% url 'students:dashboard' %}" class="sidebar-item flex items-center px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-tachometer-alt mr-3"></i>
                            Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'students:general' %}" class="sidebar-item flex items-center px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-info-circle mr-3"></i>
                            General
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'students:personal_data' %}" class="sidebar-item flex items-center px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-user mr-3"></i>
                            Personal Data
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'students:contact_info' %}" class="sidebar-item flex items-center px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-phone mr-3"></i>
                            Contact Information
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'students:family_info' %}" class="sidebar-item flex items-center px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-home mr-3"></i>
                            Family Information
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'students:additional_info' %}" class="sidebar-item flex items-center px-4 py-3 rounded-lg transition-colors active">
                            <i class="fas fa-plus-circle mr-3"></i>
                            Additional Information
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'students:code_of_conduct' %}" class="sidebar-item flex items-center px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-book-open mr-3"></i>
                            Code of Ethical Conduct
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'students:change_password' %}" class="sidebar-item flex items-center px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-key mr-3"></i>
                            Change Password
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- Logout Button -->
            <div class="p-4 border-t border-gray-600">
                <a href="{% url 'students:logout' %}" class="sidebar-item flex items-center px-4 py-3 rounded-lg transition-colors text-red-300 hover:bg-red-900">
                    <i class="fas fa-sign-out-alt mr-3"></i>
                    Logout
                </a>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Header -->
            <header class="bg-white shadow-sm border-b border-gray-200 px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">Personal Interests & Skills</h2>
                        <p class="text-gray-600">Share your hobbies, skills, and languages</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-gray-500">ID: {{ student_username }}</span>
                        <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center">
                            <span class="text-white font-medium">{{ student_name|first }}</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content Area -->
            <main class="flex-1 p-6 overflow-y-auto">
                {% if messages %}
                    {% for message in messages %}
                        <div class="mb-6 p-4 rounded-lg {% if message.tags == 'success' %}bg-green-100 text-green-800 border border-green-200{% elif message.tags == 'error' %}bg-red-100 text-red-800 border border-red-200{% else %}bg-blue-100 text-blue-800 border border-blue-200{% endif %}">
                            <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' %}exclamation-circle{% else %}info-circle{% endif %} mr-2"></i>
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}

                <!-- Hobbies & Interests Section -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-100 mb-6">
                    <div class="p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50">
                        <h3 class="text-lg font-semibold text-gray-900 flex items-center">
                            <i class="fas fa-gamepad mr-3 text-blue-600"></i>
                            Hobbies & Interests
                        </h3>
                        <p class="text-gray-600 mt-1 text-sm">Add as many hobbies as you like</p>
                    </div>
                    <div class="p-6">
                        <!-- Add Hobby Form -->
                        <form method="post" class="mb-4">
                            {% csrf_token %}
                            <input type="hidden" name="action" value="add_hobby">
                            <div class="flex gap-2">
                                <input type="text" name="hobby" placeholder="Enter a hobby or interest (e.g., Reading, Sports, Music...)" 
                                       class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                       required>
                                <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center">
                                    <i class="fas fa-plus mr-2"></i>Add
                                </button>
                            </div>
                        </form>

                        <!-- Existing Hobbies List -->
                        {% if hobbies %}
                            <div class="space-y-2">
                                {% for hobby in hobbies %}
                                    <div class="entry-item flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                                        <div class="flex items-center">
                                            <i class="fas fa-heart text-blue-500 mr-3"></i>
                                            <span class="text-gray-800">{{ hobby.hobby }}</span>
                                        </div>
                                        <form method="post" class="inline">
                                            {% csrf_token %}
                                            <input type="hidden" name="action" value="delete_hobby">
                                            <input type="hidden" name="hobby_id" value="{{ hobby.id }}">
                                            <button type="submit" class="text-red-600 hover:text-red-800 transition-colors" 
                                                    onclick="return confirm('Remove this hobby?')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </form>
                                    </div>
                                {% endfor %}
                            </div>
                        {% else %}
                            <div class="text-center py-8 text-gray-400">
                                <i class="fas fa-inbox text-4xl mb-2"></i>
                                <p>No hobbies added yet. Start by adding your first hobby!</p>
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Special Skills & Talents Section -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-100 mb-6">
                    <div class="p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-teal-50">
                        <h3 class="text-lg font-semibold text-gray-900 flex items-center">
                            <i class="fas fa-medal mr-3 text-green-600"></i>
                            Special Skills & Talents
                        </h3>
                        <p class="text-gray-600 mt-1 text-sm">Showcase your unique abilities</p>
                    </div>
                    <div class="p-6">
                        <!-- Add Skill Form -->
                        <form method="post" class="mb-4">
                            {% csrf_token %}
                            <input type="hidden" name="action" value="add_skill">
                            <div class="flex gap-2">
                                <input type="text" name="skill" placeholder="Enter a skill or talent (e.g., Programming, Public Speaking...)" 
                                       class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                       required>
                                <button type="submit" class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center">
                                    <i class="fas fa-plus mr-2"></i>Add
                                </button>
                            </div>
                        </form>

                        <!-- Existing Skills List -->
                        {% if skills %}
                            <div class="space-y-2">
                                {% for skill in skills %}
                                    <div class="entry-item flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                                        <div class="flex items-center">
                                            <i class="fas fa-star text-green-500 mr-3"></i>
                                            <span class="text-gray-800">{{ skill.skill }}</span>
                                        </div>
                                        <form method="post" class="inline">
                                            {% csrf_token %}
                                            <input type="hidden" name="action" value="delete_skill">
                                            <input type="hidden" name="skill_id" value="{{ skill.id }}">
                                            <button type="submit" class="text-red-600 hover:text-red-800 transition-colors" 
                                                    onclick="return confirm('Remove this skill?')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </form>
                                    </div>
                                {% endfor %}
                            </div>
                        {% else %}
                            <div class="text-center py-8 text-gray-400">
                                <i class="fas fa-inbox text-4xl mb-2"></i>
                                <p>No skills added yet. Share your talents with us!</p>
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Languages Spoken Section -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-100 mb-6">
                    <div class="p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50">
                        <h3 class="text-lg font-semibold text-gray-900 flex items-center">
                            <i class="fas fa-language mr-3 text-purple-600"></i>
                            Languages Spoken
                        </h3>
                        <p class="text-gray-600 mt-1 text-sm">List all languages you can speak</p>
                        </div>
                    <div class="p-6">
                        <!-- Add Language Form -->
                        <form method="post" class="mb-4">
                            {% csrf_token %}
                            <input type="hidden" name="action" value="add_language">
                            <div class="flex gap-2">
                                <input type="text" name="language" placeholder="Language name (e.g., English, Uzbek, Russian...)" 
                                       class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                       required>
                                <select name="proficiency" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                    {% for value, label in proficiency_choices %}
                                        <option value="{{ value }}">{{ label }}</option>
                                    {% endfor %}
                                </select>
                                <button type="submit" class="px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center">
                                    <i class="fas fa-plus mr-2"></i>Add
                                </button>
                            </div>
                        </form>

                        <!-- Existing Languages List -->
                        {% if languages %}
                            <div class="space-y-2">
                                {% for language in languages %}
                                    <div class="entry-item flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                                        <div class="flex items-center">
                                            <i class="fas fa-globe text-purple-500 mr-3"></i>
                                            <span class="text-gray-800 font-medium">{{ language.language }}</span>
                                            <span class="ml-3 px-3 py-1 bg-purple-100 text-purple-700 text-xs rounded-full">
                                                {{ language.get_proficiency_display }}
                                            </span>
                                        </div>
                                        <form method="post" class="inline">
                                            {% csrf_token %}
                                            <input type="hidden" name="action" value="delete_language">
                                            <input type="hidden" name="language_id" value="{{ language.id }}">
                                            <button type="submit" class="text-red-600 hover:text-red-800 transition-colors" 
                                                    onclick="return confirm('Remove this language?')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </form>
                                    </div>
                                {% endfor %}
                            </div>
                        {% else %}
                            <div class="text-center py-8 text-gray-400">
                                <i class="fas fa-inbox text-4xl mb-2"></i>
                                <p>No languages added yet. Tell us which languages you speak!</p>
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Information Notice -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                    <h4 class="text-lg font-semibold text-blue-900 mb-3 flex items-center">
                        <i class="fas fa-info-circle mr-2 text-blue-600"></i>
                        Why This Information Helps
                    </h4>
                    <ul class="text-sm text-blue-800 space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle mr-2 mt-0.5 text-blue-600"></i>
                            Helps us understand your interests and match you with relevant activities
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle mr-2 mt-0.5 text-blue-600"></i>
                            Allows us to connect you with students who share similar interests
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle mr-2 mt-0.5 text-blue-600"></i>
                            Helps in organizing clubs, events, and extracurricular activities
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle mr-2 mt-0.5 text-blue-600"></i>
                            Language skills help in academic and social support programs
                        </li>
                    </ul>
                </div>

                <!-- Back Button -->
                <div class="mt-6">
                    <a href="{% url 'students:dashboard' %}" 
                       class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
                        <i class="fas fa-arrow-left mr-2"></i>
                        Back to Dashboard
                    </a>
                </div>
            </main>
        </div>
    </div>
</body>
</html>
